<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- tipo de letra para el n√∫mero de las velas -->
  <link href="https://fonts.googleapis.com/css2?family=Spicy+Rice&display=swap" rel="stylesheet">
  <!--tipo de letra para la nota de papel -->
  <link href="https://fonts.googleapis.com/css2?family=Emilys+Candy&display=swap" rel="stylesheet">
  <title>Pastel de Cumplea√±os</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #ffeeb6fd; /* Fondo oscuro para resaltar el pastel */
    }

    /* Nuevo contenedor principal para el pastel */
    .cake-wrapper {
      position: relative;
      width: 70vw; /* Ancho del 70% del viewport */
      max-width: 500px; /* Un ancho m√°ximo para pantallas grandes */
      aspect-ratio: 1 / 1; /* Mantiene la proporci√≥n cuadrada, ajusta si es necesario */
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 180px; /* üîπ Mueve todo el pastel 30px hacia abajo */
    }
    .cake-container {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .cake {
      position: relative;
      display: flex;
      flex-direction: column-reverse; /* Pone el primer div (base) abajo */
      align-items: center;
    }

    .tier {
      position: relative;
      background: linear-gradient(to bottom, #f03aa4, #ff4bb4, #f8f8f8); /* Glaseado blanco */
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      border-radius: 8px 8px 0 0;
    }

    /* Piso inferior del pastel */
    .tier-bottom {
      width: 78vw; /* Relativo */
      height: 31.2vw; /* Relativo */
      background-color: #000000; /* Color rojo para la base */
      border-radius: 50% / 4vw; /* Relativo */
      z-index: 2;
    }
    
    /* Decoraci√≥n de glaseado para el piso inferior */
    .tier-bottom::before {
      content: '';
      position: absolute;
      left: 0;
      right: 0;
      height: 30px;
      max-height: 6vw; /* Relativo */
      background: #f03aa4;
      border-radius: 50% / 4vw; /* Relativo */
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    /* Piso superior del pastel */
    .tier-top {
      width: 57.2vw; /* Relativo */
      height: 26vw; /* Relativo */
      top: 7.8vw; /* Relativo */
      background-color: #00ff40; /* Color amarillo para el piso superior */
      margin-bottom: 2.6vw; /* Relativo */
      border-radius: 50% / 4vw; /* Relativo */
      z-index: 3;
      display: flex;
      justify-content: center;
    }

    /* Decoraci√≥n de glaseado para el piso superior */
    .tier-top::before {
      content: '';
      position: absolute;
      left: 0;
      right: 0;
      height: 30px;
      max-height: 6vw; /* Relativo */
      background: #f03aa4;
      border-radius: 50% / 4vw; /* Relativo */
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .candles {
      position: absolute;
      top: -21vw; /* Relativo */
      display: flex;
      align-items: flex-end;
      gap: 1vw; /* Relativo */
    }

    .candle-number {
      position: relative;
      width: 15vw; /* Relativo */
      height: 30vw; /* Relativo */
    }

    /* Estilo base para las piezas de las velas */
    .candle-one, .candle-two::before, .candle-two::after {
        background: repeating-linear-gradient(
            45deg,
            #e91e63, /* Fucsia */
            #e91e63 5px, /* L√≠nea fucsia */
            #9b59b6 5px, /* Violeta complementario */
            #9b59b6 10px /* L√≠nea violeta */
        );
        }

        /* Vela con forma del n√∫mero 1 */
    .candle-one {
      position: relative;
      width: 15vw; /* Relativo */
      height: 30vw; /* Relativo */
      font-size: 24vw; /* Relativo */
      font-weight: bold;
      font-family: 'Spicy Rice', cursive; /* Usamos Comic Sans */
      color: transparent; /* Hacemos el n√∫mero invisible para que se vea solo el fondo con rayas */
      background: repeating-linear-gradient(
        45deg, 
          #3498db, 
          #3498db 5px, 
          #2980b9 5px, 
          #2980b9 10px
      ); /* Rayas azul claro y oscuro */
      -webkit-background-clip: text; /* Aplicamos el gradiente solo al texto */
      background-clip: text; /* Para que el fondo solo se vea en el n√∫mero */
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
    }

    .candle-one::before { 
      /* Curva superior del n√∫mero 1 */
      content: '1'; /* Colocamos el n√∫mero 1 aqu√≠ */
      position: absolute;
      top: 0;
      left: 0;
      width: 15vw; /* Relativo */
      height: 24vw; /* Relativo */
      font-size: 24vw; /* Relativo */
      font-weight: bold;
      font-family: 'Spicy Rice', cursive; /* Usamos Comic Sans */
      color: transparent;
      background: repeating-linear-gradient(
        45deg, 
          #3498db, 
          #3498db 5px, 
          #2980b9 5px, 
          #2980b9 10px
      );
      -webkit-background-clip: text;
      background-clip: text;
    }

    /* Vela con forma del n√∫mero 2 */
    .candle-two {
      position: relative;
      width: 15vw; /* Relativo */
      height: 30vw; /* Relativo */
      font-size: 24vw; /* Relativo */
      font-weight: bold;
      font-family: 'Spicy Rice', cursive; /* Usamos Comic Sans */
      color: transparent; /* Hacemos el n√∫mero invisible para que se vea solo el fondo con rayas */
      background: repeating-linear-gradient(
          45deg, 
          #3498db, 
          #3498db 5px, 
          #2980b9 5px, 
          #2980b9 10px
      ); /* Rayas azul claro y oscuro */
      -webkit-background-clip: text; /* Aplicamos el gradiente solo al texto */
      background-clip: text; /* Para que el fondo solo se vea en el n√∫mero */
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
    }

    .candle-two::before { 
      /* Curva superior del n√∫mero 2 */
      content: '2'; /* Colocamos el n√∫mero 2 aqu√≠ */
      position: absolute;
      top: 0;
      left: 0;
      width: 15vw; /* Relativo */
      height: 24vw; /* Relativo */
      font-size: 24vw; /* Relativo */
      font-weight: bold;
      font-family: 'Spicy Rice', cursive; /* Usamos Comic Sans */
      color: transparent;
      background: repeating-linear-gradient(
          45deg, 
          #3498db, 
          #3498db 5px, 
          #2980b9 5px, 
          #2980b9 10px
      );
      -webkit-background-clip: text;
      background-clip: text;
    }

    .flame {
      position: absolute;
      top: -1vw; /* Relativo */
      left: 50%;
      transform: translateX(-50%);
      width: 4.8vw; /* Relativo */
      height: 8.4vw; /* Relativo */
      background: radial-gradient(
    ellipse at center, /* Define la forma y posici√≥n del degradado */
    #f32c16 0%,   /* Rojo en el centro (m√°s caliente) */
    #f35912 40%,  /* Naranja en el medio */
    #ff9100 100%  /* Azul en el borde (m√°s fr√≠o) */
  );
      border-radius: 50% 50% 50% 50% / 70% 70% 30% 30%; /* Ajusta los valores para dar el efecto de puntita */
      box-shadow: 0 0 10px #f39c12, 0 0 20px #f39c12, 0 0 30px #e67e22;
      animation: flicker 1.5s infinite;
    }

    /* Clase para ocultar las llamas al hacer clic */
    .flame.hidden {
      display: none;
    }


    /* Ajuste de la llama para el n√∫mero 1 */
    .candle-one .flame {
      top: -1vw; /* Relativo */
      left: 50%;
    }

    @keyframes flicker {
      0%, 100% { opacity: 1; transform: translateX(-50%) scaleY(1); }
      50% { opacity: 0.8; transform: translateX(-50%) scaleY(0.95); }
    }

    .plate {
      width: 94vw; /* Relativo */
      height: 8vw; /* Relativo */
      top: 54vw; /* Relativo */
      background-color: #ffffff;
      border-radius: 50% / 4vw; /* Relativo */
      box-shadow: 0 8px 10px rgba(0, 0, 0, 0.3);
      position: absolute;
      bottom: -10px;
      z-index: 1;
    }

        .confetti-container {
            z-index: 9999;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
        }
        .confetti-piece {
            position: absolute;
            width: 10px;
            height: 15px;
            background-color: red;
            opacity: 0.8;
            transform-origin: left top;
            animation: fall linear infinite;
        }
        @keyframes fall {
            0% { transform: translateY(0) rotate(0); }
            100% { transform: translateY(100vh) rotate(720deg); }
        }

    .star-container {
        z-index: 1000; /* Aseg√∫rate de que la estrella est√© por delante del pastel */
        position: absolute;
        /* Los estilos de posici√≥n ahora se definen en clases individuales */
        width: 9vw; /* Relativo */
        height: 9vw; /* Relativo */
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .star-outline {
        position: absolute;
        width: 110%; /* Ligeramente m√°s grande para crear el borde */
        height: 110%;
        background: black;
        clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
    }

    .star {
        width: 100%;
        height: 100%;
        position: relative;
        background: radial-gradient(ellipse at center, #fbff00 0%, #fbff00 100%);
        clip-path: polygon(
            50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%
        );
    }

    /* --- Posiciones individuales para cada estrella --- */
    /* Modifica los valores de top, left y rotate para cada estrella como desees */
    .star-1 {
        top: 14vw;
        left: 16vw;
        transform: translateX(-50%) rotate(50deg);
    }
    .star-2 {
        top: 22vw;
        left: 32vw;
        transform: rotate(-30deg);
    }
    .star-3 {
        top: 18vw;
        left: 50vw;
        transform: rotate(15deg);
    }
    .star-4 {
        top: 45vw;
        left: 4vw;
        transform: rotate(25deg);
    }
    .star-5 {
        top: 37vw;
        left: 16vw;
        transform: rotate(-25deg);
    }
    .star-6 {
        top: 48vw;
        left: 30vw;
        transform: rotate(-60deg);
    }
    .star-7 {
        top: 40vw;
        left: 45vw;
        transform: rotate(20deg);
    }
    .star-8 {
        top: 45vw;
        left: 66vw;
        transform: rotate(-10deg);
    }

    /* --- Estilos para la nota de papel --- */
    .note-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      /* Fondo semitransparente + desenfoque */
      background-color: rgba(0, 0, 0, 0.2); /* Un poco de oscurecido para contraste */
      backdrop-filter: blur(10px); /* üî• Aqu√≠ ocurre el desenfoque */
      -webkit-backdrop-filter: blur(10px); /* Compatibilidad con Safari */
      z-index: 10000;
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.8s ease, visibility 0.8s ease;
    }

    .note-container.visible {
      opacity: 1;
      visibility: visible;
    }

    .paper-note {
      background-color: #fffef0; /* Color de papel antiguo */
      padding: 30px 40px;
      border-radius: 5px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
      font-family: 'Emilys Candy', cursive; /* Misma fuente que las velas */
      font-size: 28px; /* Aumentado */
      color: #333;
      text-align: center;
      max-width: 80%;
      box-sizing: border-box; /* Asegura que el padding no exceda el max-width */
      /* Empieza fuera de la pantalla (abajo) */
      transform: translateY(100vh);
      /* Transici√≥n suave para la animaci√≥n de entrada */
      transition: transform 1.2s cubic-bezier(0.25, 1, 0.5, 1);
      /* --- ¬°Aqu√≠ ocurre la magia! --- */
      filter: url(#paper-texture-filter);
    }

    .note-container.visible .paper-note {
      transform: translateY(0); /* Vuelve a su posici√≥n original en el centro */
    }
  </style>
  <!-- Estilos espec√≠ficos para pantallas m√°s grandes para evitar que se vea gigante -->
  <style>
    @media (min-width: 715px) { /* 500px / 0.7 = ~714px */
      .tier-bottom { width: 390px; height: 156px; border-radius: 50% / 20px; }
      .tier-bottom::before { max-height: 30px; border-radius: 50% / 20px; }
      .tier-top { width: 286px; height: 130px; top: 39px; margin-bottom: 13px; border-radius: 50% / 20px; }
      .tier-top::before { max-height: 30px; border-radius: 50% / 20px; }
      .candles { top: -100px; gap: 5px; }
      .candle-number { width: 75px; height: 150px; }
      .candle-one { font-size: 120px; width: 75px; height: 150px; }
      .candle-one::before { font-size: 120px; width: 75px; height: 120px; }
      .candle-two { font-size: 112px; width: 75px; height: 150px; }
      .candle-two::before { font-size: 112px; width: 75px; height: 120px; }
      .flame { top: -5px; width: 24px; height: 42px; }
      .candle-one .flame { top: -5px; }
      .plate { width: 470px; height: 40px; top: 270px; border-radius: 50% / 20px; }
      .star-container { width: 45px; height: 45px; }
      .star-1 { top: 70px; left: 80px; }
      .star-2 { top: 110px; left: 160px; }
      .star-3 { top: 90px; left: 250px; }
      .star-4 { top: 225px; left: 20px; }
      .star-5 { top: 185px; left: 80px; }
      .star-6 { top: 240px; left: 150px; }
      .star-7 { top: 200px; left: 225px; }
      .star-8 { top: 225px; left: 330px; }
    }

    /* --- Estilos para los t√≠tulos en la parte superior --- */
.titulo1 {
  position: absolute;
  width: 100%;
  text-align: center;
  color: #ff1493;
  font-family: 'Emilys Candy', cursive;
  text-shadow: 2px 2px 6px rgba(255, 0, 150, 0.4);
  z-index: 100;
  margin: 0;
}

/* T√≠tulo principal */
.titulo1 {
  top: 2vw;
  font-size: 7vw;
  animation: glowTitle1 3s ease-in-out infinite alternate;
}

/* Animaci√≥n de brillo para el t√≠tulo principal */
@keyframes glowTitle1 {
  from {
    text-shadow: 0 0 10px #ff69b4, 0 0 15px #ff69b4, 0 0 20px #ff1493;
  }
  to {
    text-shadow: 0 0 15px #ff69b4, 0 0 30px #ff1493, 0 0 45px #ff69b4;
  }
}

.contenedortitlulo2 {
  position: absolute; /* necesario si los hijos son absolute */
  top: 10vw;
  width: 100vw;
  height: 100vw;
  overflow: hidden;  /* evita barras de scroll si algo se escala */
  animation: fadeInTitle2 2s ease-in-out forwards;
}

/* T√≠tulo animado */
.titulo2 {
  position: absolute;   /* para poder moverlo libremente */
  top: calc(9vw + 50px); /* 9vw (2vw del top de titulo1 + 7vw de su tama√±o) + 50px de espacio */
  left: 50%;            /* punto de referencia horizontal */
  width: 100%;
  text-align: center;
  color: #ae00ff;
  font-family: 'Emilys Candy', cursive;
  text-shadow: 2px 2px 6px rgba(119, 0, 255, 0.514);
  z-index: 100;
  margin: 0;
  transform: translateX(-50%);
  transform-origin: center center;
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(1.3); }
}

/*10,20,30 -> 10,15,20
20,40,60 -> 15,30,45 */

@keyframes fadeInTitle2 {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

  </style>
</head>
<body>
  <h1 class="titulo1">
    ¬°Feliz Cumplea√±os Amor!
  </h1>
  <br>
  <br>
  <div class="contenedortitlulo2">
    <h2 class="titulo2">
    Toca para apagar las velas
    <br>
    Pero antes pide 1 deseo
  </h2>
  </div>
  <div class="cake-wrapper">
    <div class="cake-container">
      <div class="cake">
        <div class="tier tier-bottom"></div>
        <div class="tier tier-top">
          <div class="candles">
            <div class="candle-number candle-two"><div class="flame"></div></div>
            <div class="candle-number candle-one"><div class="flame"></div></div>
          </div>
        </div>
      </div>
      <div class="plate"></div>
      <div class="star-container star-1"><div class="star-outline"></div><div class="star"></div></div>
      <div class="star-container star-2"><div class="star-outline"></div><div class="star"></div></div>
      <div class="star-container star-3"><div class="star-outline"></div><div class="star"></div></div>
      <div class="star-container star-4"><div class="star-outline"></div><div class="star"></div></div>
      <div class="star-container star-5"><div class="star-outline"></div><div class="star"></div></div>
      <div class="star-container star-6"><div class="star-outline"></div><div class="star"></div></div>
      <div class="star-container star-7"><div class="star-outline"></div><div class="star"></div></div>
      <div class="star-container star-8"><div class="star-outline"></div><div class="star"></div></div>
    </div>
    </div>
  </div>
  <div class="confetti-container" id="confetti"></div>
  <svg style="display: none;">
        <filter id="paper-texture-filter">
            <!-- 
              Genera un ruido fractal (Perlin noise).
              - baseFrequency: Controla qu√© tan "zoom" o "movido" es el ruido. 
                Valores m√°s bajos = ondas m√°s suaves. Valores m√°s altos = m√°s granulado.
              - numOctaves: A√±ade capas de detalle al ruido. M√°s octavas = m√°s complejo.
            -->
            <feTurbulence 
                type="fractalNoise" 
                baseFrequency="0.02" 
                numOctaves="5" 
                result="noise" />
            
            <!--
              Usa el ruido generado ("noise") para desplazar los p√≠xeles del elemento.
              - in="SourceGraphic": Le dice que act√∫e sobre el elemento original.
              - scale: La intensidad del desplazamiento. ¬°Este es el valor clave para controlar
                qu√© tan "roto" o irregular es el borde!
            -->
            <feDisplacementMap 
                in="SourceGraphic" 
                in2="noise" 
                scale="15" 
                xChannelSelector="R" 
                yChannelSelector="G" />
        </filter>
    </svg>
  <!-- Contenedor de la nota de papel (inicialmente oculto) -->
  <div class="note-container" id="note-container">
    <div class="paper-note">
      ¬°Feliz Cumplea√±os, mi cielito!<br>Dios me la bendiga siempre<br>Me la guarde donde quiera que vayas<br>Y que sea √âl consediendote<br>Todos los deseos de tu coraz‚ù§Ô∏èn<br>No olvides que te amo al ‚àû y + all√°<br>Atte: T√∫ √°ngel üòá.
    </div>
  </div>
  
  <!-- Audio para la canci√≥n de cumplea√±os -->
  <audio id="birthday-song" loop>
    <!-- IMPORTANTE: Reemplaza la URL de abajo con tu enlace directo de Google Drive -->
    <source src="musica/Cancion de feliz cumplea√±os by MAOAZA_king.mp3" type="audio/mp3">
  </audio>

  <script>
        function createConfettiPiece() {
        const confetti = document.createElement("div");
        confetti.classList.add("confetti-piece");
        
        const colors = ["#f00", "#0f0", "#00f", "#ff0", "#f0f", "#0ff"];
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        
        confetti.style.left = Math.random() * 100 + "vw";
        confetti.style.animationDuration = (Math.random() * 2 + 2) + "s";
        confetti.style.width = Math.random() * 10 + 5 + "px";
        confetti.style.height = Math.random() * 15 + 10 + "px";
        
        document.getElementById("confetti").appendChild(confetti);
        
        setTimeout(() => {
            confetti.remove();
        }, 5000);
    }
    
    setInterval(createConfettiPiece, 100);

    // A√±ade un retraso aleatorio a la animaci√≥n de cada llama para un efecto m√°s natural
    document.querySelectorAll('.flame').forEach(flame => {
      flame.style.animationDelay = `${Math.random() * 0.5}s`;
    });

    // --- NUEVA FUNCI√ìN ---
    // Funci√≥n para apagar las velas y reproducir la m√∫sica
    function startCelebration() {
      // Ocultar todas las llamas
      document.querySelectorAll('.flame').forEach(flame => {
        flame.classList.add('hidden');
      });

      // Reproducir la canci√≥n
      const song = document.getElementById('birthday-song');
      song.play();

      // Mostrar la nota de papel despu√©s de un breve retraso
      setTimeout(() => {
        const noteContainer = document.getElementById('note-container');
        noteContainer.classList.add('visible');
      }, 500); // 500ms de retraso para que no sea tan brusco
    }

    // A√±adir un event listener para que se ejecute una sola vez al hacer clic en cualquier parte
    document.addEventListener('click', startCelebration, { once: true });
  </script>

</body>
</html>
